(this.webpackJsonpmusichar=this.webpackJsonpmusichar||[]).push([[0],[,,,,,,,,,function(t,e,a){t.exports=a(18)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(8),c=a.n(i),o=(a(14),a(2)),r=a(3),l=a(1),u=a(5),p=a(4),d=a(6),h=(a(15),a(16),function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={tracks:n.props.tracks},n}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"StatsOutput"},this.props.current)}}]),a}(n.Component)),m=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={selected:null,token:n.props.token,no_data:!1,playlist_data:null},n.handleClick=n.handleClick.bind(Object(l.a)(n)),n.getTracks=n.getTracks.bind(Object(l.a)(n)),n}return Object(r.a)(a,[{key:"handleClick",value:function(t){this.setState({selected:t}),this.getTracks(t)}},{key:"getTracks",value:function(t){var e=this;d.ajax({url:"https://api.spotify.com/v1/playlists/"+t,type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e.state.token)},success:function(t){t?e.setState({playlist_data:t}):e.setState({no_data:!0})}})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"PlaylistSidebar"},s.a.createElement("ul",null,Array.from(this.props.playlists).map((function(e){return s.a.createElement("li",{onClick:function(){return t.handleClick(e.id)},className:"playlist_item",key:e.id},e.name)})))),this.state.selected&&s.a.createElement(h,{current:this.state.selected,tracks:this.state.playlist_data}))}}]),a}(n.Component),y=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var a=e.split("=");t[a[0]]=decodeURIComponent(a[1])}return t}),{});window.location.hash="";var f=y,k=(a(17),["ugc-image-upload","user-read-recently-played","playlist-read-collaborative","playlist-modify-private","playlist-modify-public","playlist-read-private"]),v=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.call(this)).state={token:null,playlists:[],no_data:!1},t.getPlaylists=t.getPlaylists.bind(Object(l.a)(t)),t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=f.access_token;t&&(this.setState({token:t}),this.getPlaylists(t))}},{key:"getPlaylists",value:function(t){var e=this;d.ajax({url:"https://api.spotify.com/v1/me/playlists?limit=50",type:"GET",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){t?e.setState({playlists:t.items}):e.setState({no_data:!0})}})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},!this.state.token&&s.a.createElement("a",{className:"btn btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("308136625304484d92879d69e98ccd89","&redirect_uri=").concat("http://leesgrey.github.io/musichar","&scope=").concat(k.join("%20"),"&response_type=token&show_dialog=true")},"Login to Spotify"),this.state.token&&s.a.createElement(m,{token:this.state.token,playlists:this.state.playlists})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.ee02506e.chunk.js.map